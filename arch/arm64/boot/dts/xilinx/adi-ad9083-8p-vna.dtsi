// SPDX-License-Identifier: GPL-2.0
/*
 * dts file for AD9083-ADL5960 on Xilinx ZynqMP ZCU102 Rev 1.0
 *
 * board_revision: <Rev.A>
 *
 * Copyright (C) 2022 Analog Devices Inc.
 */
#include <dt-bindings/iio/frequency/ad9528.h>
#include <dt-bindings/iio/adc/adi,ad9083.h>

#define ADF9528_DIST_CLK	1000000000

#ifndef ADL5960_FOF
#define ADL5960_FOF		256
#endif

#ifndef AD9083_CIC_DEC
#define AD9083_CIC_DEC		AD9083_CIC_DEC_8
#endif

#define AD9083_NCO_FREQ		(ADF9528_DIST_CLK / ADL5960_FOF)

/ {
	fixed_clk: fixed-clock {
		#clock-cells = <0>;
		compatible = "fixed-clock";
		clock-frequency = <10000000>;
	};

	/* gpio_sw1_v1, gpio_sw1_v2*/
	mux0: mux-controller0 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 1 0>, <&gpio_expander 2 0>;
	};

	/* gpio_sw2 */
	mux1: mux-controller1 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 3 0>;
	};

	/* gpio_sw3_v1, gpio_sw3_v2*/
	mux2: mux-controller2 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 4 0>, <&gpio_expander 5 0>;
	};

	/* gpio_sw4_v1, gpio_sw4_v2*/
	mux3: mux-controller3 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 6 0>, <&gpio_expander 7 0>;
	};

	/* gpio_sw0 */
	mux4: mux-controller4 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 0 0>;
	};

	/* gpio_sw5 */
	mux5: mux-controller5 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 8 1>;
	};

	/* gpio_sw6 */
	mux6: mux-controller6 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 21 0>;
	};

	/* gpio_sw7 */
	mux7: mux-controller7 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 9 1>;
	};

	/* gpio_prt_a0, gpio_prt_a1, gpio_prt_a2 */
	mux8: mux-controller8 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 26 0>, <&gpio_expander 25 0>, <&gpio_expander 24 0>;
	};

	mux9: mux-controller9 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 20 0>;
	};

	mux10: mux-controller10 {
		compatible = "gpio-mux";
		#mux-control-cells = <0>;

		mux-gpios = <&gpio_expander 19 0>;
	};

	vna_mux0: mux-rfin-group {
		compatible = "adi,gen_mux";
		mux-controls = <&mux1>;
		mux-state-names = "d1-d4", "d5-d8";
		label = "mux-rfin-group";
	};

	vna_mux1: mux-rfin1 {
		compatible = "adi,gen_mux";
		mux-controls = <&mux3>;
		mux-state-names = "d5", "d6", "d7", "d8";
		label = "mux-rfin1";
	};

	vna_mux2: mux-rfin2 {
		compatible = "adi,gen_mux";
		mux-controls = <&mux2>;
		mux-state-names = "d1", "d2", "d3", "d4";
		label = "mux-rfin2";
	};

	vna_mux3: mux-prten {
		compatible = "adi,gen_mux";
		mux-controls = <&mux8>;
		mux-state-names =
			"d8", "d7", "d6", "d5", "d1", "d2", "d3", "d4";
		label = "mux-prten";
	};

	clk_mux0: mux-adf4371-siglo {
		compatible = "adi,gen_mux";
		clocks = <&adf4371 0>, <&adf4371 2>;
		#clock-cells = <0>;
		clock-names = "pll0-clk-rf8p", "pll0-clk-rf16p";
		clock-output-names = "clk-mux-out-siglo";

		mux-controls = <&mux4>;
		mux-state-names = "rf8", "rf16";
		label = "mux-adf4371-siglo";
	};

	clk_mux1: mux-adf4371-dbrlo {
		compatible = "adi,gen_mux";
		clocks = <&adf4371 0>, <&adf4371 2>;
		#clock-cells = <0>;
		clock-names = "pll0-clk-rf8n", "pll0-clk-rf16n";
		clock-output-names = "clk-mux-out-dbrlo";

		mux-controls = <&mux5>;
		mux-state-names = "rf8", "rf16"; /* Inverted */
		label = "mux-adf4371-dbrlo";
	};

	freq_src_mux0: mux-freq-src-sel {
		compatible = "adi,gen_mux";
		mux-controls = <&mux0>;
		mux-state-names =
			"rf_dac0_direct", "j7_in", "upconv", "disabled";
		label = "mux-freq-src-sel";
	};

	freq_src_mux1: mux-lo-rfin-p1-freq-src-sel {
		compatible = "adi,gen_mux";
		mux-controls = <&mux6>;
		mux-state-names = "lo-lf-p1", "lo-hf-p1";
		label = "mux-lo-rfin-p1";
	};

	freq_src_mux2: mux-lo-rfin-p2-freq-src-sel {
		compatible = "adi,gen_mux";
		mux-controls = <&mux7>;
		mux-state-names = "lo-lf-p2", "lo-hf-p2"; /* inverted */
		label = "mux-lo-rfin-p2";
	};

	freq_src_mux3: mux-dac0-freq-src-sel {
		compatible = "adi,gen_mux";
		mux-controls = <&mux9>;
		mux-state-names = "rf_if_dac0", "rf_dac0_direct";
		label = "mux-dac0-rfout";
	};

	freq_src_mux4: mux-dac1-freq-src-sel {
		compatible = "adi,gen_mux";
		mux-controls = <&mux10>;
		mux-state-names = "rf_if_dac1", "rf_lo_direct";
		label = "mux-dac1-rfout";
	};


	port-rfin-en@0 {
		compatible = "adi,one-bit-adc-dac";
		out-gpios = <&gpio_expander 16 0>, <&gpio_expander 15 0>, <&gpio_expander 14 0>, <&gpio_expander 13 0>,
					<&gpio_expander 12 0>, <&gpio_expander 11 0>, <&gpio_expander 10 0>, <&gpio_expander 27 0>;

		#address-cells = <1>;
		#size-cells = <0>;
		label = "port-rfin-en";

		channel@0 {
			reg = <0>;
			label = "d1";
		};
		channel@1 {
			reg = <1>;
			label = "d2";
		};
		channel@2 {
			reg = <2>;
			label = "d3";
		};
		channel@3 {
			reg = <3>;
			label = "d4";
		};
		channel@4 {
			reg = <4>;
			label = "d5";
		};
		channel@5 {
			reg = <5>;
			label = "d6";
		};
		channel@6 {
			reg = <6>;
			label = "d7";
		};
		channel@7 {
			reg = <7>;
			label = "d8";
		};
	};

	misc-gpio@1 {
		compatible = "adi,one-bit-adc-dac";
		in-gpios = <&gpio_expander 22 1>, <&gpio_expander 23 1>;
		out-gpios = <&gpio 113 0>, <&gpio_expander 18 1>, <&gpio 128 0>,
		            <&gpio 118 1>, <&gpio 114 1>, <&gpio 126 1>;

		#address-cells = <1>;
		#size-cells = <0>;
		label = "misc-gpio-ctrl";

		channel@0 { /* active-low */
			reg = <0>;
			label = "ADRF6780_SIG_ALARM";
		};
		channel@1 { /* active-low */
			reg = <1>;
			label = "ADRF6780_LO_ALARM";
		};
		channel@2 {
			reg = <2>;
			label = "ADL5960x_SYNC";
		};
		channel@3 { /* Inverted */
			reg = <3>;
			label = "AD9528_REF_SEL";
		};
		channel@4 {
			reg = <4>;
			label = "ADMV8818_SFL";
		};
		channel@5 {
			reg = <5>;
			label = "ADRF6780_SIG_RSTN";
		};
		channel@6 {
			reg = <6>;
			label = "ADRF6780_LO_RSTN";
		};
		channel@7 {
			reg = <7>;
			label = "SEQ_SHDNN";
		};
	};

	vref: regulator-vref-1 {
		compatible = "regulator-fixed";
		regulator-name = "fixed-supply";
		regulator-min-microvolt = <2500000>;
		regulator-max-microvolt = <2500000>;
		regulator-always-on;
	};

	vref_ndac: regulator-vref-2 {
		compatible = "regulator-fixed";
		regulator-name = "ndac-fixed-supply";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		regulator-always-on;
	};
};


&spi0 {
    adc0_ad9083: ad9083@0 {
		compatible = "adi,ad9083";
		reg = <0>;

		jesd204-device;
		#jesd204-cells = <2>;
		jesd204-top-device = <0>;
		jesd204-link-ids = <0>;
		jesd204-inputs = <&axi_ad9083_core_rx 0 0>;

		spi-max-frequency = <1000000>;
		clocks = <&ad9528 13>;
		clock-names = "adc_ref_clk";
		adi,adc-frequency-hz= /bits/ 64 <2000000000>; /* 2 GHz */

		/* adi_ad9083 config */
		adi,hp-en;
		adi,vmax-microvolt = <2000>;
		adi,fc-hz =  /bits/ 64 <125000000>; /* 125 MHz */
		adi,rterm-ohms = <100>;
		adi,backoff = <0>;
		adi,finmax-hz = /bits/ 64 <100000000>;
		adi,nco0_freq-hz = /bits/ 64 <AD9083_NCO_FREQ>;
		adi,nco1_freq-hz = /bits/ 64 <0>;
		adi,nco2_freq-hz = /bits/ 64 <0>;
		adi,cic_decimation = /bits/ 8 <AD9083_CIC_DEC>;
		adi,j_decimation = /bits/ 8 <AD9083_J_DEC_16>;
		adi,g_decimation = /bits/ 8 <0>;
		adi,h_decimation = /bits/ 8 <0>;
		adi,nco0_datapath_mode =
			/bits/ 8 <AD9083_DATAPATH_ADC_CIC_NCO_J>;

		/* JESD204 parameters */
		adi,octets-per-frame = <64>;
		adi,frames-per-multiframe = <16>;
		adi,converter-resolution = <16>;
		adi,bits-per-sample = <16>;
		adi,converters-per-device = <32>;
		adi,control-bits-per-sample = <0>;
		adi,lanes-per-device = <1>;
		adi,subclass = <0>;
    };
};

&spi1 {
    status = "okay";

    ad4696: adc@0{
		compatible = "adi,ad4696";
		reg = <0>;
		spi-cpol;
		spi-cpha;
		spi-max-frequency = <10000000>;
		reset-gpios = <&gpio 119 0>;
		vref-supply = <&vref>;
	};
};

&axi_fpga_bus0 {

	status = "okay";

	adf4371: adf4371@0 {
		compatible = "adi,adf4372";
		reg = <0>;
		spi-max-frequency = <10000000>;
		#address-cells = <1>;
		#clock-cells = <1>;
		#size-cells = <0>;
		clocks = <&ad9528 2>; /* 125 MHz */
		clock-names = "clkin";
		clock-scales = <1 10>;
		label = "adf4371";
		clock-output-names = "pll0-clk-rf8", "pll0-clk-rfaux8",
			"pll0-clk-rf16";
		channel@0 {
			reg = <0>;
			adi,power-up-frequency = /bits/ 64 <1000000000>;
			adi,output-enable;
		};
		channel@1 {
			reg = <1>;
			adi,power-up-frequency = /bits/ 64 <1000000000>;
			adi,output-enable;
		};
		channel@2 {
			reg = <2>;
			adi,power-up-frequency = /bits/ 64 <8000000000>;
			adi,output-enable;
		};
	};

	ad9528: ad9528@1 {
		compatible = "adi,ad9528";
		reg = <1>;
		spi-cpol;
		spi-cpha;
		#address-cells = <1>;
		#size-cells = <0>;

		clocks = <&fixed_clk>;
		
		jesd204-device;
		#jesd204-cells = <2>;
		jesd204-sysref-provider;

		spi-max-frequency = <10000000>;

		clock-output-names =
			"ad9528-1_out0", "ad9528-1_out1", "ad9528-1_out2",
			"ad9528-1_out3", "ad9528-1_out4", "ad9528-1_out5",
			"ad9528-1_out6", "ad9528-1_out7", "ad9528-1_out8",
			"ad9528-1_out9", "ad9528-1_out10", "ad9528-1_out11",
			"ad9528-1_out12", "ad9528-1_out13";
		#clock-cells = <1>;

		adi,vcxo-freq = <100000000>;

		adi,refa-enable;
		adi,refb-enable;
		adi,refa-diff-rcv-enable;
		adi,refa-r-div = <1>;
		adi,refb-r-div = <1>;
		adi,osc-in-cmos-neg-inp-enable;

		/* SYSREF config */
		adi,sysref-src = <SYSREF_SRC_INTERNAL>;
		adi,sysref-pattern-mode = <SYSREF_PATTERN_NSHOT>;
		adi,sysref-k-div = <256>;
		adi,sysref-nshot-mode = <SYSREF_NSHOT_4_PULSES>;
		adi,sysref-request-trigger-mode = <SYSREF_LEVEL_HIGH>;
		//adi,jesd204-max-sysref-frequency-hz = <400000>;

		/* PLL1 config */
		adi,pll1-feedback-src-vcxo;
		adi,pll1-feedback-div = <10>;
		adi,pll1-charge-pump-current-nA = <63500>;
		adi,osc-in-diff-enable;

		/* PLL2 config */
		/*
		 * Valid ranges based on VCO locking range:
		 *   1150.000 MHz - 1341.666 MHz
		 *    862.500 MHz - 1006.250 MHz
		 *    690.000 MHz -  805.000 MHz
		 */
		adi,pll2-m1-frequency = <ADF9528_DIST_CLK>;
		adi,pll2-charge-pump-current-nA = <805000>;

		adi,rpole2 = <RPOLE2_225_OHM>;
		adi,rzero = <RZERO_2750_OHM>;
		adi,cpole1 = <CPOLE1_0_PF>;

		adi,status-mon-pin0-function-select = <0xFF>; /* No function */
		adi,status-mon-pin1-function-select = <0xFF>; /* No function */

		ad9528_0_c0: channel@0 {
			reg = <0>;
			adi,extended-name = "FMC_SYSREF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <5>;
			adi,signal-source = <SOURCE_SYSREF_VCO>;
		};

		ad9528_0_c1: channel@1 {
			reg = <1>;
			adi,extended-name = "FPGA_GLBL_CLK"; /* Device clock */
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <8>; /* 125 MHz */
			adi,signal-source = <SOURCE_VCO>;
		};

		ad9528_0_c2: channel@2 {
			reg = <2>;
			adi,extended-name = "ADF4371_XREF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <8>; /* 125 MHz */
			adi,signal-source = <SOURCE_VCO>;
		};

		ad9528_0_c3: channel@3 {
			reg = <3>;
			adi,extended-name = "FPGA_REF_CLK";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <2>; /* 500 MHz */
			adi,signal-source = <SOURCE_VCO>;
		};

		ad9528_0_c4: channel@4 {
			reg = <4>;
			adi,extended-name = "ADL5960_FOF1";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <ADL5960_FOF>;
			adi,signal-source = <SOURCE_VCO>;
		};
		ad9528_0_c5: channel@5 {
			reg = <5>;
			adi,extended-name = "ADL5960_FOF2";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <ADL5960_FOF>;
			adi,signal-source = <SOURCE_VCO>;
		};
		ad9528_0_c6: channel@6 {
			reg = <6>;
			adi,extended-name = "ADL5960_FOF3";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <ADL5960_FOF>;
			adi,signal-source = <SOURCE_VCO>;
		};
		ad9528_0_c7: channel@7 {
			reg = <7>;
			adi,extended-name = "ADL5960_FOF4";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <ADL5960_FOF>;
			adi,signal-source = <SOURCE_VCO>;
		};
		
		ad9528_0_c8: channel@8 {
			reg = <8>;
			adi,extended-name = "AD9173_REF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <4>;
			adi,signal-source = <SOURCE_VCO>;
		};
		ad9528_0_c9: channel@9 {
			reg = <9>;
			adi,extended-name = "DAC_SYSREF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <5>;
			adi,signal-source = <SOURCE_SYSREF_VCO>;
		};
		ad9528_0_c10: channel@10 {
			reg = <10>;
			adi,extended-name = "TX_DEVICE_CLK";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <4>;
			adi,signal-source = <SOURCE_VCO>;
		};
		ad9528_0_c11: channel@11 {
			reg = <11>;
			adi,extended-name = "DAC_FMC_SYSREF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <5>;
			adi,signal-source = <SOURCE_SYSREF_VCO>;
		};

		ad9528_0_c12: channel@12 {
			reg = <12>;
			adi,extended-name = "DEV_SYSREF";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <5>;
			adi,signal-source = <SOURCE_SYSREF_VCO>;
		};

		ad9528_0_c13: channel@13 {
			reg = <13>;
			adi,extended-name = "ADC_REF_CLK";
			adi,driver-mode = <DRIVER_MODE_LVDS>;
			adi,divider-phase = <0>;
			adi,channel-divider = <4>; /* 250 MHz */
			adi,signal-source = <SOURCE_VCO>;
		};
	};
};

&axi_fpga_bus1 {
	dat1: adrf5720-1@1 {
		compatible = "adi,adrf5720";
		reg = <1>;
		spi-max-frequency = <100000>;
		label = "adrf5720-rfin";
	};

	dat2: adrf5720-2@0 {
		compatible = "adi,adrf5720";
		reg = <0>;
		spi-max-frequency = <100000>;
		label = "adrf5720-rfin2";
	};

	gpio_expander: max7301@2 {
		compatible = "max7301";
		reg = <2>;
		spi-max-frequency = <100000>;
		#gpio-cells = <2>;
		gpio-controller;
	};
};

&axi_spi_adl5960_1 {
	adl5960-1@0 {
		compatible = "adi,adl5960";
		reg = <0>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-1";
	};

	adl5960-2@1 {
		compatible = "adi,adl5960";
		reg = <1>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-2";
	};

	adl5960-3@2 {
		compatible = "adi,adl5960";
		reg = <2>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-3";
	};

	adl5960-4@3 {
		compatible = "adi,adl5960";
		reg = <3>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-4";
	};

	adl5960-5@4 {
		compatible = "adi,adl5960";
		reg = <4>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-5";
	};

	adl5960-6@5 {
		compatible = "adi,adl5960";
		reg = <5>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-6";
	};

	adl5960-7@6 {
		compatible = "adi,adl5960";
		reg = <6>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-7";
	};

	adl5960-8@7 {
		compatible = "adi,adl5960";
		reg = <7>;
		spi-max-frequency = <6250000>;
		/* Clocks */
		clocks = <&adf4371 1>, <&ad9528 4>;
		clock-names = "lo_in", "offs_in";
		lo_in-clock-scales = <1 10>;
		label = "adl5960-8";
	};
};

&axi_spi_fmcdac {
	dac0_ad9172: ad9173@0 {
		#address-cells = <1>;
		#size-cells = <0>;
		compatible = "adi,ad9173";
		reg = <0>;
		spi-max-frequency = <25000000>;
		clocks = <&ad9528 8>;
		clock-names = "dac_clk";

		// adi,dac-rate-khz = <2949120>;
		// adi,jesd-link-mode = <10>;

		// adi,jesd-subclass = <1>;
		// adi,dac-interpolation = <1>;
		// adi,channel-interpolation = <1>;
		// adi,clock-output-divider = <1>;
		// adi,syncoutb-signal-type-lvds-enable;
		adi,scrambling = <1>;
		adi,sysref-mode = <2>; /* SYSREF_CONTINUOUS */

		adi,dac-rate-khz = <12000000>; /* 12 GSPS */
		adi,jesd-link-mode = <4>;

		adi,jesd-subclass = <0>;
		adi,dac-interpolation = <8>;
		adi,channel-interpolation = <3>;
		adi,clock-output-divider = <4>;
		adi,syncoutb-signal-type-lvds-enable;

		adi,modulatior-switch-config = <0>; /* AD9172_MODULATOR_SWITCH_CONF_0 */

		adi,standalone-probe; /* NO JESD204, NO TPL, just NCO TEST TONE */

		/* jesd204-fsm support */
		jesd204-device;
		#jesd204-cells = <2>;
		jesd204-top-device = <1>; /* This is the TOP device */
		jesd204-link-ids = <0>;
		jesd204-inputs = <&axi_ad9172_core 1 0>;
		jesd204-ignore-errors;
	};
};

&axi_spi_fpga_busf {
	admv8818-2@0 {
		compatible = "adi,admv8818";
		reg = <0>;
		spi-max-frequency = <10000000>;
		clocks = <&clk_mux0>;
		clock-names = "rf_in";
		clock-scales = <1 10>;
		label = "admv8818";
		adi,tolerance-percent = <3>;
	};
};

&axi_spim {
	adrf6780_sig: adrf6780@0 {
		compatible = "adi,adrf6780";
		reg = <0>;
		spi-max-frequency = <10000000>;
		clocks = <&clk_mux0>;
		clock-names = "lo_in";
		label = "adrf6780-sig";
	};

	adrf6780_lo: adrf6780@1 {
		compatible = "adi,adrf6780";
		reg = <1>;
		spi-max-frequency = <10000000>;
		clocks = <&clk_mux1>;
		clock-names = "lo_in";
		label = "adrf6780-lo";
	};
};

&axi_spi_ndac {
	ndac0_ad5664: ad5664@0 {
		compatible = "adi,ad5664r5";
		reg = <0>;
		spi-max-frequency = <25000000>;
		spi-cpha;
		vref-supply = <&vref_ndac>;
	};
};

